// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// å…¨æ’åˆ—ç®—æ³• - äº¤äº’å¼å­¦ä¹  & å¯¹æ¯”åˆ†æ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("ğŸ¯ å…¨æ’åˆ—ç®—æ³• - å¿«é€Ÿç†è§£é€ŸæˆæŒ‡å—\n");

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// åœºæ™¯å¯¹æ¯”ï¼šç”¨ç”Ÿæ´»ä¾‹å­ç†è§£
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("ğŸ“Œ åœºæ™¯å¯¹æ¯” - ç”¨ç”Ÿæ´»ä¾‹å­ç†è§£å…¨æ’åˆ—\n");

console.log(`
åœºæ™¯ï¼šä½ æœ‰3ä¸ªæœ‹å‹ Aã€Bã€Cï¼Œè¦å®‰æ’ä»–ä»¬åœ¨ä¸€æ’åº§ä½ä¸Šåä¸‹

å…¨æ’åˆ—çš„æ€è·¯ï¼š
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ç¬¬ä¸€æ­¥ï¼šAååœ¨æœ€å·¦è¾¹                                        â•‘
â•‘ â”œâ”€ ç°åœ¨è¿˜å‰© Bã€C è¦æ’åº§ä½                                â•‘
â•‘ â”œâ”€ Bã€Cçš„æ’åˆ—æœ‰ï¼š[B,C] å’Œ [C,B]                          â•‘
â•‘ â””â”€ æ‰€ä»¥ A åœ¨æœ€å·¦è¾¹çš„æ’åˆ—ï¼š[A,B,C] å’Œ [A,C,B]           â•‘
â•‘                                                           â•‘
â•‘ ç¬¬äºŒæ­¥ï¼šBååœ¨æœ€å·¦è¾¹                                        â•‘
â•‘ â”œâ”€ ç°åœ¨è¿˜å‰© Aã€C è¦æ’åº§ä½                                â•‘
â•‘ â”œâ”€ Aã€Cçš„æ’åˆ—æœ‰ï¼š[A,C] å’Œ [C,A]                          â•‘
â•‘ â””â”€ æ‰€ä»¥ B åœ¨æœ€å·¦è¾¹çš„æ’åˆ—ï¼š[B,A,C] å’Œ [B,C,A]           â•‘
â•‘                                                           â•‘
â•‘ ç¬¬ä¸‰æ­¥ï¼šCååœ¨æœ€å·¦è¾¹                                        â•‘
â•‘ â”œâ”€ ç°åœ¨è¿˜å‰© Aã€B è¦æ’åº§ä½                                â•‘
â•‘ â”œâ”€ Aã€Bçš„æ’åˆ—æœ‰ï¼š[A,B] å’Œ [B,A]                          â•‘
â•‘ â””â”€ æ‰€ä»¥ C åœ¨æœ€å·¦è¾¹çš„æ’åˆ—ï¼š[C,A,B] å’Œ [C,B,A]           â•‘
â•‘                                                           â•‘
â•‘ æ€»æ’åˆ—æ•°ï¼š2 + 2 + 2 = 6 ä¸ª = 3!                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ‰§è¡Œæ­¥éª¤æ‹†è§£ï¼šè®©ä½ çœ‹æ‡‚æ¯ä¸€æ­¥åœ¨å¹²ä»€ä¹ˆ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nğŸ“Š ä»£ç æ‰§è¡Œæ­¥éª¤æ‹†è§£\n");

function quanpailie_visual(nums, step = 0, callStack = []) {
  const indent = "  ".repeat(step);
  const prefix = step === 0 ? "ğŸ”´ " : "   ";

  console.log(`${prefix}${indent}ç¬¬${step + 1}å±‚é€’å½’ | è¾“å…¥: [${nums}]`);

  // ã€ç»ˆæ­¢æ¡ä»¶ã€‘
  if (nums.length === 0) {
    console.log(`${prefix}${indent}â””â”€ âœ… é€’å½’ç»“æŸï¼è¿”å›: [[]]`);
    return [[]];
  }

  const res = [];

  // ã€å¾ªç¯æ¯ä¸ªå…ƒç´ ã€‘
  for (let i = 0; i < nums.length; i++) {
    const cur = nums[i];
    const rest = nums.slice(0, i).concat(nums.slice(i + 1));

    console.log(`${prefix}${indent}â”œâ”€ é€‰æ‹© ${cur} ä½œç¬¬ä¸€ä¸ª, å‰©ä½™: [${rest}]`);

    // ã€é€’å½’è°ƒç”¨ã€‘
    const subResults = quanpailie_visual(rest, step + 1, [...callStack, cur]);

    // ã€ç»„åˆç»“æœã€‘
    for (const p of subResults) {
      const result = [cur, ...p];
      res.push(result);
      console.log(`${prefix}${indent}â”‚  â†’ å¾—åˆ°: [${result}]`);
    }
  }

  console.log(`${prefix}${indent}â””â”€ è¿”å›æ­¤å±‚ç»“æœ: [${res.map(r => `[${r}]`).join(", ")}]`);
  return res;
}

console.log("ğŸ“ æ‰§è¡Œè¿‡ç¨‹ï¼ˆ[1, 2] ä¸ºä¾‹ï¼‰ï¼š\n");
quanpailie_visual([1, 2]);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// å…³é”®ä»£ç æ®µè¯¦è§£
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("ğŸ”‘ ä¸‰è¡Œä»£ç è¯¦è§£ - æœ€å…³é”®çš„éƒ¨åˆ†\n");

console.log(`
ã€ç¬¬1è¡Œã€‘if (nums.length === 0) return [[]];
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä½œç”¨ï¼šé€’å½’çš„å‡ºå£ï¼ˆbase caseï¼‰
ä¸ºä»€ä¹ˆï¼Ÿ
  âœ“ æ•°ç»„ä¸ºç©ºæ—¶ï¼Œæ²¡æœ‰æ•°å­—å¯æ’
  âœ“ ä½†æˆ‘ä»¬éœ€è¦è¿”å›"ä¸€ä¸ªæ’åˆ—"ï¼ˆè™½ç„¶æ˜¯ç©ºçš„ï¼‰
  âœ“ æ‰€ä»¥è¿”å› [[]] è€Œä¸æ˜¯ []

å¯¹æ¯”ç†è§£ï¼š
  âŒ return [];       // è¿™æ ·æ˜¯é”™çš„ï¼ç›¸å½“äºæ²¡æœ‰æ’åˆ—
  âœ… return [[]];     // æ­£ç¡®ï¼ä»£è¡¨æœ‰1ä¸ªæ’åˆ—ï¼Œå°±æ˜¯ç©ºåˆ—è¡¨

ç±»æ¯”ï¼š
  å¦‚æœä½ æœ‰0ä¸ªæœ‹å‹ï¼Œä½ èƒ½æ’å‡ºå¤šå°‘ç§æ’åˆ—ï¼Ÿ
  ç­”æ¡ˆï¼š1ç§ï¼ï¼ˆä»€ä¹ˆéƒ½ä¸åšå°±æ˜¯1ç§æ’åˆ—æ–¹å¼ï¼‰

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ã€ç¬¬2è¡Œã€‘const rest = nums.slice(0, i).concat(nums.slice(i + 1));
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä½œç”¨ï¼šåˆ é™¤ç¬¬iä¸ªå…ƒç´ ï¼Œä¿ç•™å…¶ä»–æ‰€æœ‰å…ƒç´ 

æ¯”å¦‚ nums = [1, 2, 3]ï¼š
  i=0: rest = [].concat([2,3]) = [2,3]      â† åˆ é™¤1
  i=1: rest = [1].concat([3]) = [1,3]       â† åˆ é™¤2
  i=2: rest = [1,2].concat([]) = [1,2]      â† åˆ é™¤3

ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿ
  â†’ æˆ‘ä»¬é€‰äº†ç¬¬iä¸ªå…ƒç´ ä½œä¸º"ç¬¬ä¸€ä¸ªä½ç½®"
  â†’ å‰©ä¸‹çš„å…ƒç´ éœ€è¦ç»§ç»­å…¨æ’åˆ—
  â†’ æ‰€ä»¥è¦ä»åŸæ•°ç»„ä¸­åˆ é™¤å®ƒ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ã€ç¬¬3è¡Œã€‘res.push([cur, ...p])
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ä½œç”¨ï¼šæŠŠå½“å‰å…ƒç´ æ”¾åœ¨æ¯ä¸ªå­æ’åˆ—çš„æœ€å‰é¢

å‡è®¾ï¼š
  cur = 1, p = [2, 3]ï¼ˆè¿™æ˜¯ [2,3] çš„ä¸€ä¸ªæ’åˆ—ï¼‰
  [cur, ...p] = [1, 2, 3]

ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿ
  â†’ cur å·²ç»é€‰å¥½äº†æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®
  â†’ p æ˜¯å‰©ä½™å…ƒç´ çš„ä¸€ç§æ’åˆ—
  â†’ ç»„åˆèµ·æ¥å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ’åˆ—
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// å¸¸è§é”™è¯¯åˆ†æ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("âŒ å¸¸è§é”™è¯¯ & ä¸ºä»€ä¹ˆä¼šé”™\n");

console.log(`
é”™è¯¯1ï¼šç»ˆæ­¢æ¡ä»¶å†™æˆ return [];
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ é”™è¯¯ä»£ç ï¼š
function permute(nums) {
  if (nums.length === 0) return [];  // âŒ é”™ï¼
  // ...
}

ä¸ºä»€ä¹ˆé”™ï¼Ÿ
  è¾“å…¥ [1]:
    i=0: cur=1, rest=[]
         è°ƒç”¨ permute([]) â†’ [] ï¼ˆç©ºï¼ï¼‰
         for (const p of []) â†’ å¾ªç¯ä¸æ‰§è¡Œ
         res è¿˜æ˜¯ç©ºçš„
    è¿”å› [] ï¼ˆé”™è¯¯ï¼åº”è¯¥æ˜¯ [[1]]ï¼‰

æ­£ç¡®åšæ³•ï¼š
âœ… if (nums.length === 0) return [[]];
   è¿™æ ·è¿”å›åŒ…å«ä¸€ä¸ªç©ºæ•°ç»„çš„æ•°ç»„ï¼Œä¸ä¼šå¯¼è‡´å¾ªç¯è·³è¿‡

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

é”™è¯¯2ï¼šç”¨ nums.splice(i, 1) è€Œä¸æ˜¯ slice
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ é”™è¯¯ä»£ç ï¼š
const rest = nums.splice(i, 1);  // è¿™æ ·ä¼šä¿®æ”¹åŸæ•°ç»„ï¼

ä¸ºä»€ä¹ˆé”™ï¼Ÿ
  splice() ä¼šä¿®æ”¹åŸæ•°ç»„ï¼Œå¯¼è‡´å¾ªç¯è¢«ç ´å

æ­£ç¡®åšæ³•ï¼š
âœ… const rest = nums.slice(0, i).concat(nums.slice(i + 1));
   slice() ä¸ä¿®æ”¹åŸæ•°ç»„ï¼Œåªè¿”å›æ–°çš„ç‰‡æ®µ

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

é”™è¯¯3ï¼šé—æ¼ ...p çš„å±•å¼€ç¬¦
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ é”™è¯¯ä»£ç ï¼š
res.push([cur, p]);  // âŒ è¿™æ · p æ²¡æœ‰å±•å¼€

ä¸ºä»€ä¹ˆé”™ï¼Ÿ
  p = [2, 3]
  [1, p] = [1, [2, 3]]  â† åµŒå¥—äº†ï¼é”™çš„ï¼

æ­£ç¡®åšæ³•ï¼š
âœ… res.push([cur, ...p]);
   [1, ...[2, 3]] = [1, 2, 3]  â† æ­£ç¡®å±•å¼€ï¼
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// å†…å­˜å¯è§†åŒ– - çœ‹çœ‹é€’å½’æ ˆ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("ğŸ§  å†…å­˜å¯è§†åŒ– - é€’å½’è°ƒç”¨æ ˆ\n");

console.log(`
æ‰§è¡Œ quanpailie([1, 2]) çš„å†…å­˜å˜åŒ–ï¼š

è°ƒç”¨æ ˆï¼š                     è¿”å›å€¼å˜åŒ–ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
quanpailie([1,2])
  â”œâ”€ quanpailie([2])
  â”‚   â”œâ”€ quanpailie([])     â† è¿”å› [[]]
  â”‚   â””â”€ è¿”å› [[2]]         â† ç»„åˆï¼š[2, ...[] ]
  â”‚
  â”œâ”€ quanpailie([1])
  â”‚   â”œâ”€ quanpailie([])     â† è¿”å› [[]]
  â”‚   â””â”€ è¿”å› [[1]]         â† ç»„åˆï¼š[1, ...[] ]
  â”‚
  â””â”€ è¿”å› [[1,2], [2,1]]    â† æœ€ç»ˆåˆå¹¶æ‰€æœ‰ç»“æœ

å…³é”®ç‚¹ï¼š
âœ“ æ¯æ¬¡é€’å½’éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°è°ƒç”¨æ¡†
âœ“ å¿…é¡»ç­‰å­è°ƒç”¨è¿”å›åï¼Œæ‰èƒ½ç»„åˆç»“æœ
âœ“ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå«"å›æº¯"ç®—æ³•
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ—¶é—´å¤æ‚åº¦åˆ†æ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("â±ï¸ æ—¶é—´å¤æ‚åº¦åˆ†æ\n");

console.log(`
æ—¶é—´å¤æ‚åº¦ï¼šO(n! Ã— n)

ä¸ºä»€ä¹ˆï¼Ÿ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. æ’åˆ—ä¸ªæ•°ï¼šn!
   [1,2,3] â†’ 3! = 6 ä¸ªæ’åˆ—
   [1,2,3,4] â†’ 4! = 24 ä¸ªæ’åˆ—

2. æ¯ä¸ªæ’åˆ—éœ€è¦ O(n) æ—¶é—´ï¼š
   âœ“ slice æ“ä½œï¼šO(n)
   âœ“ concat æ“ä½œï¼šO(n)
   âœ“ push æ“ä½œï¼šO(1)
   âœ“ æ‰€ä»¥æ¯æ¬¡æ“ä½œéƒ½æ˜¯ O(n)

3. æ€»å¤æ‚åº¦ = n! ä¸ªæ’åˆ— Ã— æ¯ä¸ªæ’åˆ— O(n) = O(n! Ã— n)

ç©ºé—´å¤æ‚åº¦ï¼šO(n! Ã— n)
   âœ“ éœ€è¦å­˜å‚¨æ‰€æœ‰ n! ä¸ªæ’åˆ—
   âœ“ æ¯ä¸ªæ’åˆ—æœ‰ n ä¸ªå…ƒç´ 
   âœ“ æ‰€ä»¥æ˜¯ O(n! Ã— n)

ç»“è®ºï¼š
ğŸ”´ æ’åˆ—é—®é¢˜æ˜¯ã€æŒ‡æ•°çº§ã€‘å¤æ‚åº¦çš„é—®é¢˜
   å³ä½¿ä¼˜åŒ–ï¼Œä¹Ÿé€ƒä¸äº† O(n!) çš„æ’åˆ—ä¸ªæ•°
   n > 10 æ—¶å°±ä¼šå¾ˆæ…¢ï¼
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ€ç»´å¯¼å›¾ - ç®—æ³•æ€è·¯å›¾è§£
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("ğŸ§­ æ€ç»´å¯¼å›¾ - å¿«é€Ÿå›å¿†\n");

console.log(`
å…¨æ’åˆ— = é€’å½’ + åˆ†è§£

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   æ±‚ [1,2,3] çš„å…¨æ’åˆ—           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    é€‰æ‹©"ç¬¬ä¸€ä¸ª"å…ƒç´           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  åˆ é™¤è¯¥å…ƒç´ ï¼Œç»§ç»­é€’å½’         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ç»„åˆï¼šå½“å‰å…ƒç´  + å­æ’åˆ—      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  é€’å½’åˆ°æ•°ç»„ä¸ºç©º â†’ è¿”å› [[]]   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     å›æº¯ï¼Œé‡å¤ä»¥ä¸Šæ­¥éª¤       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   è¿”å›æ‰€æœ‰æ’åˆ—               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


æ¨¡æ¿ï¼š
function é€’å½’(å‰©ä½™å…ƒç´ ) {
  if (å‰©ä½™ä¸ºç©º) return [[]];  // â‘  ç»ˆæ­¢

  const ç»“æœ = [];
  for (æ¯ä¸ªå…ƒç´ ) {            // â‘¡ é€‰æ‹©
    const æ›´å°çš„é—®é¢˜ = åˆ é™¤è¯¥å…ƒç´ ;
    for (æ¯ä¸ªå­ç­”æ¡ˆ of é€’å½’(æ›´å°çš„é—®é¢˜)) {  // â‘¢ é€’å½’
      ç»“æœ.push([å½“å‰å…ƒç´ , ...å­ç­”æ¡ˆ]);      // â‘£ ç»„åˆ
    }
  }
  return ç»“æœ;
}
`);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç»ƒä¹ é¢˜
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("ğŸ’ª ç»ƒä¹ é¢˜ - æ£€éªŒä½ çš„ç†è§£\n");

const testCases = [
  { input: [], expected: [[]] },
  { input: [1], expected: [[1]] },
  { input: [1, 2], expected: [[1, 2], [2, 1]] },
  { input: [1, 2, 3], expected: [[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]] },
];

function quanpailie(nums) {
  if (nums.length === 0) {
    return [[]];
  }
  const res = [];
  for (let i = 0; i < nums.length; i++) {
    const cur = nums[i];
    const rest = nums.slice(0, i).concat(nums.slice(i + 1));
    for (const p of quanpailie(rest)) {
      res.push([cur, ...p]);
    }
  }
  return res;
}

console.log("æµ‹è¯•ç”¨ä¾‹ï¼š\n");
testCases.forEach((test, idx) => {
  const result = quanpailie(test.input);
  const passed = JSON.stringify(result) === JSON.stringify(test.expected);
  const status = passed ? "âœ… PASS" : "âŒ FAIL";
  console.log(`${status} | è¾“å…¥: [${test.input}] | è¾“å‡º: ${result.length} ä¸ªæ’åˆ—`);
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// æ€»ç»“
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

console.log("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
console.log("ğŸ“Œ æœ€ç»ˆæ€»ç»“ - è®°ä½è¿™3ç‚¹å°±æŒæ¡å…¨æ’åˆ—ï¼\n");

console.log(`
ğŸ¯ ä¸‰ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼ˆå¿…é¡»è®°ä½ï¼‰ï¼š

1ï¸âƒ£  ã€åˆ†è§£æ€æƒ³ã€‘
   æŠŠå¤§é—®é¢˜åˆ†è§£æˆå°é—®é¢˜
   [1,2,3] â†’ 1 + [2,3]çš„æ’åˆ—
              2 + [1,3]çš„æ’åˆ—
              3 + [1,2]çš„æ’åˆ—

2ï¸âƒ£  ã€é€’å½’å‡ºå£ã€‘
   æ•°ç»„ä¸ºç©ºæ—¶è¿”å› [[]]
   è¿™æ˜¯ä¿è¯é€’å½’æ­£ç¡®å·¥ä½œçš„å…³é”®ï¼

3ï¸âƒ£  ã€ç»„åˆæ–¹å¼ã€‘
   å½“å‰å…ƒç´  + å‰©ä½™å…ƒç´ çš„æ’åˆ—
   [cur, ...subPerm]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ’¡ è®°ä½è¿™ä¸ªæ¨¡æ¿ï¼Œç±»ä¼¼çš„é—®é¢˜éƒ½èƒ½è§£ï¼š

function solve(é—®é¢˜) {
  if (é—®é¢˜ä¸ºç©º) return [ç©ºç­”æ¡ˆ];      // â‘  å‡ºå£
  const ç»“æœ = [];
  for (every é€‰æ‹©) {                 // â‘¡ å°è¯•
    const æ–°é—®é¢˜ = åˆ é™¤è¿™ä¸ªé€‰æ‹©;
    for (every ç­”æ¡ˆ of solve(æ–°é—®é¢˜)) {  // â‘¢ é€’å½’
      ç»“æœ.push(å½“å‰é€‰æ‹© + ç­”æ¡ˆ);      // â‘£ ç»„åˆ
    }
  }
  return ç»“æœ;
}

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸš€ æ¥ä¸‹æ¥å­¦ä»€ä¹ˆï¼Ÿ

æŒæ¡å…¨æ’åˆ—åï¼Œå¯ä»¥å­¦ï¼š
âœ“ ç»„åˆé—®é¢˜ï¼ˆCombinationï¼‰
âœ“ å›æº¯ç®—æ³•ï¼ˆBacktrackingï¼‰
âœ“ Nçš‡åé—®é¢˜
âœ“ æ•°ç‹¬æ±‚è§£
âœ“ å­é›†é—®é¢˜

è¿™äº›éƒ½æ˜¯åŒä¸€ä¸ªæ€è·¯ï¼
`);

console.log("\nâœ… å­¦ä¹ å®Œæˆï¼å»å®æˆ˜ç»ƒä¹ å§ï¼\n");
